選択課題

やること：ちょいのり保険契約のスマートコントラクト化

スマートフォンを想定、フロントエンドは作成しない。web3ダウンロードとMetaMaskアカウントの作成が必要のため。
また今回のチェーンはRemix上の仮想チェーンを用いる。ブロックを作成するにはgethのインストールが必要のため。

１保険会社はスマートコントラクトにお金を持たせる(gas代)

２契約者はプランと入る日数をスマートコントラクトに送信して代金を確かめる。

３スマートコントラクトは時間とプランから代金を送り返す。

４契約者は契約に必要な免許証番号、車のナンバー、時間、入りたいプラン
（シンプルプラン　800円、レギュラープラン　1,800円、プレミアムプラン　2,600円）と
代金をスマートコントラクトに送信する。

５スマートコントラクトは送金を確認して贈られた情報と送信者のアドレスに対して一意の契約者番号を発行し、契約者に送信する。

６事故があった場合には契約者番号をもとに保険会社に連絡する。（電話で）

７保険会社は保険金の支払いをすると判断した場合、スマートコントラクトに金額を設定して支払いの許可を出し、代金を送金する。

８被保険者はスマートコントラクトに契約者番号を送信して保険金を受け取る。

９保険会社は保険料をスマートコントラクトからまとめて受け取る。


１はコンソーシアム型のチェーンであれば必要ない。(マイニングが必要ないため）
６、７はスマートコントラクトが判断できるように設定すれば（AIとか使って）保険会社を挟まないでやり取り可能となる。


メリット

スマートコントラクトは随時契約情報をブロックチェーン上に記録することで契約の改ざんを防げる。
第三者の仲介を挟む必要がない。
電子契約のため紙が必要ない。
本来の使用想定としては保険会社共通のコンソーシアム型のチェーンを作成して、事前情報の保険会社での共有などができることが大きなメリットにあたる。


デメリット
ブロックチェーン上に記録されたデータがすべての参加者が持つことになるのでプライバシーの観点の問題が発生。コンソーシアム型のチェーンにした場合でも
契約者目線では、勝手に保険会社同士にデータがいきわたってしまうという懸念点。保険金支払いの判断をスマートコントラクト内で完結させられない。


改善点
３で送った日時から契約スタートのみの実装だが、日付を指定できるようにしたほうが良い。
４は実際の契約の場合、免許証番号だけを最初に送って7日間の待ち時間が必要。
４は氏名、住所、連絡先も必要。
この実装上では契約者と被保険者が同一でなければならないが本当は２親等以内なら同一でなくてもよい。
2回目以降の利用での割引を行う。
オプションの付与。

工夫した点
契約者がView以外の関数を動かした場合必要となるgas代を疑似的に負担０にするためにかかったgas代を自動返金している。

所感
保険金支払いについて人の手を介す必要がある保険は自動契約を活かしきれていないと考える。
よってEQuick保険のような保険金支払いの判断がしやすく、保険金があらかじめ定まっている保険に向いていると考える。
